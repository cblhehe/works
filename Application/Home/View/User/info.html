<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content=" initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>个人信息</title>
	<meta name="keywords" content="素叶联盟">
    <meta name="description" content="素叶联盟">

    <link rel="stylesheet" href="__PUBLIC__/home/css/base.css">
    <link rel="stylesheet" href="__PUBLIC__/home/css/member.css">
</head>
<body>
<header>

</header>

<!--个人信息-->
<section>
    <div class=" person-info">
        <div class="mem-list-item clear ub photo-item">
            <div class="mem-list-item-intro no-bor ub-f1 ub">
                <p class="db ub-f1 person-info-intro">头像</p>
                <div class="fr person-info-show-wrap">
                    <!--<span>请填写</span>-->
                    <div class="photo-wrap">

                            <img src="__PUBLIC__/home/img/user_head_img.png" alt="">


                    </div>
                </div>

            </div>

        </div>

        <div class="mem-list-item clear ub">
            <div class="mem-list-item-intro no-bor ub-f1 ub">
                <p class="db ub-f1 person-info-intro">昵称</p>
                <a href="javascript:;" class="show-hide" index="0">
                    <div class="fr person-info-show-wrap">
                        <span class="show-val">凯特琳</span>
                        <input type="text" value="Kaiser" name="nickname" class="hide-val nickname" data-hide-index=0 name="nickname">
                    </div>
                    <i class="more"></i>
                </a>
            </div>
        </div>
        <div class="mem-list-item clear ub">
            <div class="mem-list-item-intro no-bor ub-f1 ub">
                <p class="db ub-f1 person-info-intro">性别</p>
                <a href="javascript:;" class="show-hide" index="1">

                    <div class="fr person-info-show-wrap">
                        <span class="show-val" data-show-index="1">
                         女
                        </span>
                        <input type="text" value='女' class="hide-val gender" data-hide-index="1" name="sex">
                    </div>



                    <i class="more"></i>
                </a>
            </div>

        </div>
        <div class="mem-list-item clear ub">
            <div class="mem-list-item-intro no-bor ub-f1 ub">
                <p class="db ub-f1 person-info-intro">出生日期</p>
                <a href="javascript:;" class="show-hide" index="2">
                    <div class="fr person-info-show-wrap">
                    <span class="show-val" data-show-index="2">

                        请填写

                    </span>
                        <input type="text" value="" class="hide-val birth" data-hide-index="2" name="birthday">
                    </div>
                    <i class="more"></i>
                </a>
            </div>

        </div>
        <div class="mem-list-item clear ub">
            <div class="mem-list-item-intro no-bor ub-f1 ub">
                <p class="db ub-f1 person-info-intro">所在地</p>
                <a href="javascript:;" class="show-hide" index="3">
                    <div class="fr person-info-show-wrap">
                    <span class="show-val" data-show-index="3">
                        请填写
                    </span>
                        <input type="text" value="" class="hide-val addr" data-hide-index="3" name="address">
                    </div>
                    <i class="more"></i>
                </a>
            </div>

        </div>
        <div class="mem-list-item clear ub">
            <div class="mem-list-item-intro no-bor ub-f1 ub">
                <p class="db ub-f1 person-info-intro">邮箱</p>
                <a href="javascript:;" class="show-hide" index="4">
                    <div class="fr person-info-show-wrap">
                    <span class="show-val" data-show-index="4">
                      @qq.com
                    </span>
                        <input type="text" value="Jackson" class="hide-val idol" data-hide-index="4" name="email">
                    </div>
                    <i class="more"></i>
                </a>
            </div>

        </div>
        <div class="mem-list-item clear ub">
            <div class="mem-list-item-intro no-bor ub-f1 ub">
                <p class="db ub-f1 person-info-intro">电话</p>
                <a href="javascript:;" class="show-hide" index="5">
                    <div class="fr person-info-show-wrap">
                    <span class="show-val" data-show-index="5" id="tel-show">
                        请填写
                    </span>
                        <input type="text" value="" class="hide-val" id="tel-hide" data-hide-index="5" name="phone">
                    </div>
                    <i class="more"></i>
                </a>
            </div>

        </div>
        <div class="mem-list-item clear ub">
            <div class="red-btn-wrap  w-100 pad-2">
                <button class="red-btn" id="modify">
                    立即修改
                </button>
            </div>
        </div>
    </div>
</section>


<!--个人信息填写-->
<section>
    <div class="hide-mask"></div>
    <div class="complete-hide bg-fff" style="display: none">
        <div class="complete-input-wrap">
            <input type="text" class="bor-b val-input"  value="凯特琳">
            <button class="red-btn complete-btn " data-btn-index="1">确定</button>
        </div>
    </div>
    <div class="complete-hide bg-fff" style="display: none">
        <div class="complete-input-wrap clear">

                <div class="gender-wrap ">
                    <input type="radio" id="boy" name="gender"  checked="checked"    class="gender-sel" value="男"/>
                    <input type="radio" id="girl" name="gender"   class="gender-sel" value="女"/>
                    <label for="boy" >
                        <div class="img-wrap boy">
                        </div>
                    </label>
                </div>
                <div class="gender-wrap">
                    <label for="girl" >
                        <div class="img-wrap girl ">
                        </div>
                    </label>
                </div>

            <button class="red-btn complete-btn " data-btn-index="2">确定</button>
        </div>
    </div>
    <div class="complete-hide bg-fff" style="display: none">
        <div class="complete-input-wrap clear">
            <div class="addr-info">
                <div>
                    <select name="year1" id="year1"></select>
                    <select name="month1"></select>
                    <select name="day1"></select>
                </div>

            </div>
            <button class="red-btn complete-btn" data-btn-index="3">确定</button>
        </div>
    </div>
    <div class="complete-hide bg-fff" style="display: none">
        <div class="complete-input-wrap clear">
            <div class="addr-info">
                <input type="text" value="北京市" class="hide" id="province">
                <div>
                    <select id="s_province" name="s_province"></select>  
                    <select id="s_city" name="s_city" ></select>  
                    <select id="s_county" name="s_county"></select>
                    <script class="resources library" src="__PUBLIC__/home/js/area.js" type="text/javascript"></script>
                    <script type="text/javascript">_init_area();</script>
                </div>
                <div id="show"></div>
            </div>
            <button class="red-btn complete-btn" data-btn-index="4">确定</button>
        </div>
    </div>
    <div class="complete-hide bg-fff" style="display: none">
        <div class="complete-input-wrap">
            <input type="text" class="bor-b val-input"  value="@qq.com" >
            <button class="red-btn complete-btn" data-btn-index="5">确定</button>
        </div>
    </div>
    <div class="complete-hide bg-fff" style="display: none">
        <div class="complete-input-wrap">
            <input type="text" class="bor-b val-input"  value="15198237751" >
            <button class="red-btn complete-btn" data-btn-index="6">确定</button>
        </div>
    </div>
</section>

<!-- 弹出层 -->
<section>
    <div class="dig-mask"></div>
    <div class="dig">
        <div class="dig-title">
            <span>温馨提示</span>
        </div>
        <div class="dig-content">
            <p class="dig-tip">提示内容</p>
            <button class="dig-btn">点击确定</button>
        </div>
    </div>
</section>

<footer class="position-fixed-b">
    <p class="copyright">© Copyright 2015 - 2016 素叶联盟 </p>
</footer>

<script src="__PUBLIC__/home/js/jquery.min.js"></script>
<script src="__PUBLIC__/home/js/person-info.js"></script>
<script src="__PUBLIC__/home/js/YMDClass.mini.js"></script>
<script>
    $(function(){

        //渲染生日日期
        new YMDselect('year1','month1','day1',1994,7,10);

        $('div.gender-wrap .img-wrap').click(function(){
            $('div.gender-wrap .img-wrap').removeClass('active');
            $(this).addClass('active');
        });


        var dig={};
        dig._btn=$('.dig-btn');
        dig._mask=$('.dig-mask');
        dig._close=$('.dig-close');
        dig._dig=$('.dig');
        dig.closeFn=function () {
            dig._mask.css('display','none');
            dig._dig.css('display','none');
        } ;
        dig.showFn=function () {
            dig._mask.css('display','block');
            dig._dig.css('display','block');
        } ;
        dig._close.click(dig.closeFn);
        dig._tip=$('.dig-tip');
        dig._btn.click(dig.closeFn);
        dig._mask.click(dig.closeFn);


        $('#modify').click(function(){
            var nickname=$('.hide-val.nickname').val();
            var gender=$('.hide-val.gender').val();
            if (gender=='男') {gender=1;}else if(gender=='女'){gender=0;}
            var birth=$('.hide-val.birth').val();
            var addr=$('.hide-val.addr').val();
            var idol=$('.hide-val.idol').val();
            // console.log(nickname +" "+ gender+" "+birth+" "+addr+" "+idol)
            var url = "{:U('Home/User/infoSave')}";
            $.ajax({
                type: "post",
                url: url,
                dataType: "json",
                data: 'nickname='+nickname+'&sex='+gender+'&birthday='+birth+'&address='+addr+'&idol='+idol,
                // data:{nickname:nicaname,sex:gender,birthday:birth,address:addr,idol:idol}
                success: function(data){
                    if (data.status=='error') {
                        dig._tip.html("修改失败");
                        dig.showFn();
                        return false;
                    }else if(data.status=='success'){
                        dig._tip.html("修改成功");
                        dig.showFn();
                    }
                }
            });
        })

    })


</script>
</body>
</html>